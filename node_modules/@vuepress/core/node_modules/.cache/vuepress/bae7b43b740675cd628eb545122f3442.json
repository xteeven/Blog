{"remainingRequest":"/home/steeven/Documents/WebProjects/Website/Blog/node_modules/babel-loader/lib/index.js??ref--3-1!/home/steeven/Documents/WebProjects/Website/Blog/node_modules/vuepress-plugin-img-lazy/enhanceAppFile.js","dependencies":[{"path":"/home/steeven/Documents/WebProjects/Website/Blog/node_modules/vuepress-plugin-img-lazy/enhanceAppFile.js","mtime":1594129346000},{"path":"/home/steeven/Documents/WebProjects/Website/Blog/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/steeven/Documents/WebProjects/Website/Blog/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCBjb25maWcgZnJvbSAnQGR5bmFtaWMvaW1nTGF6eSc7CmV4cG9ydCBkZWZhdWx0IChmdW5jdGlvbiAoX3JlZikgewogIHZhciBWdWUgPSBfcmVmLlZ1ZTsKICBWdWUubWl4aW4oewogICAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICAkaW86IHVuZGVmaW5lZAogICAgICB9OwogICAgfSwKICAgIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgbGF6eUVscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2ltZy4nICsgY29uZmlnLnNlbGVjdG9yKTsKCiAgICAgIGlmIChjb25maWcudXNlTmF0aXZlICYmICdsb2FkaW5nJyBpbiBIVE1MSW1hZ2VFbGVtZW50LnByb3RvdHlwZSkgewogICAgICAgIGxhenlFbHMuZm9yRWFjaChmdW5jdGlvbiAobGF6eUVsKSB7CiAgICAgICAgICAhbGF6eUVsLmdldEF0dHJpYnV0ZSgnc3JjJykgJiYgbGF6eUVsLnNldEF0dHJpYnV0ZSgnc3JjJywgbGF6eUVsLmdldEF0dHJpYnV0ZSgnZGF0YS1zcmMnKSk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zZXRPYnNlcnZlcigpOwogICAgICAgIGxhenlFbHMuZm9yRWFjaChmdW5jdGlvbiAobGF6eUVsKSB7CiAgICAgICAgICBfdGhpcy4kaW8ub2JzZXJ2ZShsYXp5RWwpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICBzZXRPYnNlcnZlcjogZnVuY3Rpb24gc2V0T2JzZXJ2ZXIoKSB7CiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICAgIHRoaXMuJGlvID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKGZ1bmN0aW9uIChlbnRyaWVzKSB7CiAgICAgICAgICBlbnRyaWVzLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgaWYgKGl0ZW0uaXNJbnRlcnNlY3RpbmcpIHsKICAgICAgICAgICAgICB2YXIgc3JjID0gX3RoaXMyLmdldFNyYyhpdGVtLnRhcmdldCk7CgogICAgICAgICAgICAgIGlmIChzcmMpIHsKICAgICAgICAgICAgICAgIGl0ZW0udGFyZ2V0LnNyYyA9IHNyYzsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF90aGlzMi4kaW8udW5vYnNlcnZlKGl0ZW0udGFyZ2V0KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSwgewogICAgICAgICAgcm9vdE1hcmdpbjogY29uZmlnLnJvb3RNYXJnaW4KICAgICAgICB9KTsKICAgICAgfSwKICAgICAgZ2V0U3JjOiBmdW5jdGlvbiBnZXRTcmMoZWwpIHsKICAgICAgICBpZiAoZWwuZGF0YXNldCkgewogICAgICAgICAgcmV0dXJuIGVsLmRhdGFzZXQuc3JjOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgaXRlbSA9IGVsLmF0dHJpYnV0ZXMuZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICByZXR1cm4gaXRlbS5ub2RlTmFtZSA9PT0gJ2RhdGEtc3JjJzsKICAgICAgICAgIH0pOwogICAgICAgICAgcmV0dXJuIGl0ZW0gJiYgaXRlbS5ub2RlVmFsdWU7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSk7Cn0pOw=="},{"version":3,"sources":["/home/steeven/Documents/WebProjects/Website/Blog/node_modules/vuepress-plugin-img-lazy/enhanceAppFile.js"],"names":["config","Vue","mixin","data","$io","undefined","mounted","lazyEls","document","querySelectorAll","selector","useNative","HTMLImageElement","prototype","forEach","lazyEl","getAttribute","setAttribute","setObserver","observe","methods","IntersectionObserver","entries","item","isIntersecting","src","getSrc","target","unobserve","rootMargin","el","dataset","attributes","find","nodeName","nodeValue"],"mappings":";;;AAAA,OAAOA,MAAP,MAAmB,kBAAnB;AAEA,gBAAe,gBAAa;AAAA,MAAVC,GAAU,QAAVA,GAAU;AAC1BA,EAAAA,GAAG,CAACC,KAAJ,CAAU;AACRC,IAAAA,IADQ,kBACD;AACL,aAAO;AACLC,QAAAA,GAAG,EAAEC;AADA,OAAP;AAGD,KALO;AAORC,IAAAA,OAPQ,qBAOE;AAAA;;AACR,UAAMC,OAAO,GAAGC,QAAQ,CAACC,gBAAT,CAA0B,SAAST,MAAM,CAACU,QAA1C,CAAhB;;AACA,UAAIV,MAAM,CAACW,SAAP,IAAoB,aAAaC,gBAAgB,CAACC,SAAtD,EAAiE;AAC/DN,QAAAA,OAAO,CAACO,OAAR,CAAgB,UAAAC,MAAM,EAAI;AACxB,WAACA,MAAM,CAACC,YAAP,CAAoB,KAApB,CAAD,IAA+BD,MAAM,CAACE,YAAP,CAAoB,KAApB,EAA2BF,MAAM,CAACC,YAAP,CAAoB,UAApB,CAA3B,CAA/B;AACD,SAFD;AAGD,OAJD,MAIO;AACL,aAAKE,WAAL;AACAX,QAAAA,OAAO,CAACO,OAAR,CAAgB,UAAAC,MAAM,EAAI;AACxB,UAAA,KAAI,CAACX,GAAL,CAASe,OAAT,CAAiBJ,MAAjB;AACD,SAFD;AAGD;AACF,KAnBO;AAqBRK,IAAAA,OAAO,EAAE;AACPF,MAAAA,WADO,yBACO;AAAA;;AACZ,aAAKd,GAAL,GAAW,IAAIiB,oBAAJ,CAAyB,UAAAC,OAAO,EAAI;AAC7CA,UAAAA,OAAO,CAACR,OAAR,CAAgB,UAAAS,IAAI,EAAI;AACtB,gBAAIA,IAAI,CAACC,cAAT,EAAyB;AACvB,kBAAMC,GAAG,GAAG,MAAI,CAACC,MAAL,CAAYH,IAAI,CAACI,MAAjB,CAAZ;;AAEA,kBAAIF,GAAJ,EAAS;AACPF,gBAAAA,IAAI,CAACI,MAAL,CAAYF,GAAZ,GAAkBA,GAAlB;AACD;;AACD,cAAA,MAAI,CAACrB,GAAL,CAASwB,SAAT,CAAmBL,IAAI,CAACI,MAAxB;AACD;AACF,WATD;AAUD,SAXU,EAWR;AACDE,UAAAA,UAAU,EAAE7B,MAAM,CAAC6B;AADlB,SAXQ,CAAX;AAcD,OAhBM;AAiBPH,MAAAA,MAjBO,kBAiBAI,EAjBA,EAiBI;AACT,YAAIA,EAAE,CAACC,OAAP,EAAgB;AACd,iBAAOD,EAAE,CAACC,OAAH,CAAWN,GAAlB;AACD,SAFD,MAEO;AACL,cAAMF,IAAI,GAAGO,EAAE,CAACE,UAAH,CAAcC,IAAd,CAAmB,UAAAV,IAAI;AAAA,mBAAIA,IAAI,CAACW,QAAL,KAAkB,UAAtB;AAAA,WAAvB,CAAb;AACA,iBAAOX,IAAI,IAAIA,IAAI,CAACY,SAApB;AACD;AACF;AAxBM;AArBD,GAAV;AAgDD,CAjDD","sourcesContent":["import config from '@dynamic/imgLazy'\n\nexport default ({ Vue }) => {\n  Vue.mixin({\n    data() {\n      return {\n        $io: undefined\n      }\n    },\n\n    mounted() {\n      const lazyEls = document.querySelectorAll('img.' + config.selector)\n      if (config.useNative && 'loading' in HTMLImageElement.prototype) {\n        lazyEls.forEach(lazyEl => {\n          !lazyEl.getAttribute('src') && lazyEl.setAttribute('src', lazyEl.getAttribute('data-src'))\n        })\n      } else {\n        this.setObserver()\n        lazyEls.forEach(lazyEl => {\n          this.$io.observe(lazyEl)\n        })\n      }\n    },\n\n    methods: {\n      setObserver() {\n        this.$io = new IntersectionObserver(entries => {\n          entries.forEach(item => {\n            if (item.isIntersecting) {\n              const src = this.getSrc(item.target)\n\n              if (src) {\n                item.target.src = src\n              }\n              this.$io.unobserve(item.target)\n            }\n          })\n        }, {\n          rootMargin: config.rootMargin\n        })\n      },\n      getSrc(el) {\n        if (el.dataset) {\n          return el.dataset.src\n        } else {\n          const item = el.attributes.find(item => item.nodeName === 'data-src')\n          return item && item.nodeValue\n        }\n      }\n    }\n  })\n}\n"]}]}